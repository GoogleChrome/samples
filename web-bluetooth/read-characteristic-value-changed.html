---
feature_name: Web Bluetooth / Read Characteristic Value Changed
chrome_version: 48
check_min_version: true
feature_id: 5264933985976320
icon_url: icon.png
origin_trial: Anth+jGDlkCl2Q5u99GV1GbRac48K+GKirpvibCCO1jLUJbGrvgDnwP/QxpQR6RDc8iec0BM0Z9lDutg1lys7gEAAABheyJvcmlnaW4iOiAiaHR0cHM6Ly9nb29nbGVjaHJvbWUuZ2l0aHViLmlvOjQ0MyIsICJmZWF0dXJlIjogIldlYkJsdWV0b290aCIsICJleHBpcnkiOiAxNDcyNzM1MTQyfQ==
---

{% include_relative _includes/intro.html %}

<p>This sample illustrates the use of the Web Bluetooth API to read battery
level and be notified of changes from a nearby Bluetooth Device advertising
Battery information with Bluetooth Low Energy. You may want
to try this demo with the BLE Peripheral
Simulator App from the <a target="_blank"
href="https://play.google.com/store/apps/details?id=io.github.webbluetoothcg.bletestperipheral">Google
Play Store</a>.</p>

<p>Here, we use the <code>characteristicvaluechanged</code> event listener to
handle reading battery level characteristic value. This event listener will
optionally handle upcoming notifications as well.</p>

<button id="readBatteryLevel">Read Bluetooth Device's Battery Level</button>
<button id="startNotifications" disabled>Start Notifications</button>
<button id="stopNotifications" disabled>Stop Notifications</button>

{% include output_helper.html %}

{% include js_snippet.html filename='read-characteristic-value-changed.js' %}

<script>
  document.querySelector('#readBatteryLevel').addEventListener('click', function() {
    if (isWebBluetoothEnabled()) {
      ChromeSamples.clearLog();
      onReadBatteryLevelButtonClick();
    }
  });

  document.querySelector('#startNotifications').addEventListener('click', function(event) {
    event.stopPropagation();
    event.preventDefault();

    if (isWebBluetoothEnabled()) {
      onStartNotificationsButtonClick();
    }
  });

  document.querySelector('#stopNotifications').addEventListener('click', function(event) {
    event.stopPropagation();
    event.preventDefault();

    if (isWebBluetoothEnabled()) {
      onStopNotificationsButtonClick();
    }
  });
</script>

{% include_relative _includes/utils.html %}
