---
feature_name: Presentation API
chrome_version: 51
feature_id: 6676265876586496
---

<h3>Background</h3>

<p>
  This sample illustrates the use of
  <a href="https://w3c.github.io/presentation-api/">Presentation API</a>,
  which gives the ability to access external presentation-type displays and use
  them for presenting web content. The <code>PresentationRequest</code> object
  is associated with a request to initiate or reconnect to a presentation made
  by a controlling browsing context and it takes in a presentation request URL
  when constructed. A presentation can be started by calling the
  <code>start()</code> method on the <code>PresentationRequest</code> object.
</p>

{% capture initial_output_content %}
<p>
  <button id="newPresReq">new PresentationRequest()</button>
</p>
<p>
  <button id="startPres" disabled>presentationRequest.start()</button>
</p>
<p>
  <input id="presentationId" type="text" placeholder="presentationId">
  <button id="reconnectPres" disabled>presentationRequest.reconnect(presentationId)</button>
</p>
<p>
  <button id="closePres" disabled>presentationRequest.close()</button>
  <button id="terminatePres" disabled>presentationRequest.terminate()</button>
</p>{% endcapture %}
{% include output_helper.html initial_output_content=initial_output_content %}

{% capture js %}
var presentationUrl = 'http://google.com/cast/#__castAppId__=EF1A139F';
var presentationRequest;
var presentationConnection;

function updatePresentationAvailability(displaysAvailable) {
  ChromeSamples.log('Presentation displays are ' +
          (displaysAvailable ? 'available' : 'unavailable') + '.');
}

function setConnection(connection) {
    presentationConnection = connection;
    document.querySelector('#closePres').disabled = false;
    document.querySelector('#terminatePres').disabled = false;
    presentationConnection.onclose = function() {
      ChromeSamples.log('Connection closed.');
    };
    presentationConnection.onterminate = function() {
      ChromeSamples.log('Connection terminated.');
    };
}

document.querySelector('#newPresReq').addEventListener('click', function() {
  presentationRequest = new PresentationRequest(presentationUrl);
  document.querySelector('#newPresReq').disabled = true;
  document.querySelector('#startPres').disabled = false;
  document.querySelector('#reconnectPres').disabled = false;
  presentationRequest.getAvailability().then(function(availability) {
    updatePresentationAvailability(availability.value);
    availability.onchange = function() {
      updatePresentationAvailability(availability.value);
    };
  });
});

document.querySelector('#startPres').addEventListener('click', function() {
  presentationRequest.start().then(function(connection) {
    ChromeSamples.log('Connected to presentation: ' + connection.id);
    setConnection(connection);
  }).catch(function(error) {
    ChromeSamples.log(error.name + ': ' + error.message);
  });
});

document.querySelector('#reconnectPres').addEventListener('click', function() {
  var presentationId = document.querySelector('#presentationId').value.trim();
  console.log(presentationId);
  if (presentationId != '') {
    presentationRequest.reconnect(presentationId).then(function(connection) {
      ChromeSamples.log('Reconnected to presentation: ' + connection.id);
      setConnection(connection);
    }).catch(function(error){
      ChromeSamples.log(error.name + ': ' + error.message);
    });
  }
});

document.querySelector('#closePres').addEventListener('click', function() {
  if (presentationConnection) {
    presentationConnection.close();
    document.querySelector('#closePres').disabled = true;
    document.querySelector('#terminatePres').disabled = true;
  }
});

document.querySelector('#terminatePres').addEventListener('click', function() {
  if (presentationConnection) {
    presentationConnection.terminate();
    document.querySelector('#closePres').disabled = true;
    document.querySelector('#terminatePres').disabled = true;
  }
});

{% endcapture %}
{% include js_snippet.html js=js %}
